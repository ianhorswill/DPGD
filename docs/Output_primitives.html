
<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- generic metadata -->
	<title>Output&#xA;</title>
	<meta name="author" content="Ian Horswill">
	<meta name="description" content="An introduction to declarative programming with applications to vidoegames">
	<meta name="generator" content="Booker">

	<!-- seo helpers: generic, twitter, facebook/opengraph -->
	<meta itemprop="name" content="Output&#xA;">
	<meta name="twitter:title" content="Output&#xA;">
	<meta property="og:title" content="Output&#xA;" />
	<meta property="og:type" content="article" />
	<meta property="og:site_name" content="Declarative Programming for Game Designers" />
	
	<!-- stylesheets -->
	<!-- bootstrap needs to come first -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

	<!-- then our style sheet -->
	<link rel="stylesheet" href="site.css"> 

	<!-- sample fonts, please feel free to replace with your preferred ones -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat|Public+Sans:400,700&display=swap&subset=latin-ext"> 

	<!-- highlightjs is used for source code formatting inside <code> tags. feel free to remove it. -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/styles/atom-one-dark.min.css">
	<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/highlight.min.js"></script>
	<script src="step.js"></script>
	<script src="NDScript.js"></script>
	<script>hljs.highlightAll();</script>
	
	<!-- use MathJax for latex rendering -->
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

	<!-- Use mermaid to render diagrams -->
	<script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'dark' });
    </script>
</head>

<body>
<div class="container-fluid shadow header">
	<h1 style="text-align: right;">Incomplete draft: do not cite!</h1>

	<div class="container">
		<div class="col-md-7 header-contents">
				<a class="backgroundlink" href="Part_I.html"> Part I
 </a>
&nbsp;&#x25BB;&nbsp;				<a class="backgroundlink" href="Clairvoyant_programming.html"> Clairvoyant programming
 </a>
&nbsp;&#x25BB;&nbsp;				<a class="backgroundlink" href="The_Step_language.html"> Step
 </a>
&nbsp;&#x25BB;&nbsp;				<a class="backgroundlink" href="Primitive_tasks.html"> Primitive tasks (technical)
 </a>
			<h1><a id="linkToIndex" class="simplelink" href="index.html">Output
</a></h1>
					<p>
					<span style="padding:.25rem; padding-left:.5rem; padding-right:.5rem; background-color:orange; color:black;">
					   alpha test
					</span>
					</p>
		</div>
	</div>
</div>

	<!-- Make clicking On Step code pop up a step interpreter and copy the code into the clipboard -->
	<script>
	document.querySelector("body").addEventListener('click', function(e) {
		var element = e.target.closest('code');
		if(element !== null) {
			if (element.classList.contains('language-Step')) {
				var interp = window.open("https://ianhorswill.github.io/StepSandbox", "Step sandbox");
				var handler = function(e) { 
					interp.postMessage(element.textContent, "*");
					window.removeEventListener('message', handler);
				};
				window.addEventListener('message', handler);
			} else if (element.classList.contains('language-NDScript')) {
				var interp = window.open("https://ianhorswill.github.io/NDScriptSandbox", "NDScript sandbox");
				var handler = function(e) { 
					interp.postMessage(element.textContent, "*");
					window.removeEventListener('message', handler);
				};
				window.addEventListener('message', handler);
			}
		}
	}, false);
	</script>



<div class="container-fluid">
	<div class="row justify-content-center">
		<div class="col-md-7 index-contents">

			<div class="container shadow blog-contents">

<p>There are a number of primitive tasks that print.  You've already seen <code>Write</code> but here's the full list:</p>
<ul>
<li><code>[Write </code><em>x</em><code>]</code><br />
Prints <em>x</em>.  Any &lsquo;_&rsquo; characters contained in strings are changed to spaces.  Unbound variables, tuples, feature structures print in the form you would see them in code.  It is printed as a separate word, and so in the final text generation, it is separated from whatever was previously printed by a space, except in limited circumstances such as if it comes after an open quote or if what we're printing is a close quote.</li>
<li><code>[WriteVerbatim </code><em>x</em><code>]</code><br />
Identical to <code>Write</code>, but does not change &lsquo;_&rsquo; characters in strings to spaces.</li>
<li><code>[WriteCapitalized </code><em>x</em><code>]</code><br />
Identical to <code>Write</code> except the first character is converted to upper case.</li>
<li><code>[WriteConcatenated </code><em>x</em><code>  </code><em>y</em><code>]</code><br />
Identical to <code>Write</code> but prints both <em>x</em> and <em>y</em> without any space between them.</li>
<li><code>[NewLine]</code><br />
Starts a new line.</li>
<li><code>[FreshLine]</code><br />
Starts a new line unless we're already at the start of a line.</li>
<li><code>[Paragraph]</code><br />
Starts a new paragraph.</li>
</ul>
<p>These primitives are all deterministic.  And for most purposes they operate only in <strong>input mode</strong> in the sense that if you call them with a variable, it prints the variable rather than giving a value to it.  However, when <a href="Parsing.html">parsing text</a>, they flip from being input mode and printing, to being output mode and reading from the input string.  See <a href="Parsing.html">parsing text</a>.</p>
<h2 id="graph-output-not-supported-in-all-environments">Graph output (not supported in all environments)</h2>
<p>Graph visualization isn't part of the core Step interpreter, but it's supported both on the web interface and the Step IDE (StepRepl), since it's very useful for debugging.  As we <a href="Visualizing_predicates.html">discussed earlier</a>, you can print a graph using the <code>VisualizeGraph</code> task:</p>
<pre><code class="language-step">[VisualizeGraph ?predicate]
</code></pre>
<p>which finds all solutions to <code>[?predicate ?start ?end]</code> and makes a graph with an edge (arrow) for each solution, adding nodes as needed. </p>
<h3 id="labeling-the-edges-arrows">Labeling the edges (arrows)</h3>
<p>This assumes <code>?predicate</code> takes two parameters.  It it takes three parameters, it label the edge with the value of the third argument.  For example:</p>
<pre><code class="language-Step"># Try: [VisualizeGraph Relationship]
[predicate]
Relationship bart homer parent.
Reltionship lisa home parent.
Relationship bart marge parent.
Relationship lisa marge parent.
Relationship homer marge wife.
Relationship marge homer husband.
Relationship bart lisa sister.
Relationship lisa bart brother.
# If ?parent is ?child's parent, then ?child is ?parent's child
Relationship ?parent ?child child: [Relationship ?child ?parent parent]
</code></pre>
<p>which yields the graph:</p>
<pre class="mermaid">graph TD
n0("bart") -- parent --> n1("homer")
n0 -- parent --> n2("marge")
n3("lisa") -- parent --> n2
n1 -- wife --> n2
n2 -- husband --> n1
n0 -- sister --> n3
n3 -- brother --> n0
n1 -- child --> n0
n2 -- child --> n0
n2 -- child --> n3
</pre>
<h3 id="coloring-the-nodes">Coloring the nodes</h3>
<p>You can specify optional extra keyword parameters for other options.  To change the colors of the nodes, say:</p>
<pre><code class="language-step">[VisualizeGraph ?predicate node_color ?colorTask]
</code></pre>
<p>where <code>?colorPredicate</code> is a predicate that specifies what colors nodes should have.  Here keyword <code>node_color</code> tells it that the next value is the task to use to get colors of nodes.</p>
<p>This may be best explained with an example:</p>
<pre><code class="language-Step"># Try: [VisualizeGraph Relationship node_color CharacterColor]
[predicate]
Relationship bart homer parent.
Reltionship lisa home parent.
Relationship bart marge parent.
Relationship lisa marge parent.
Relationship homer marge wife.
Relationship marge homer husband.
Relationship bart lisa sister.
Relationship lisa bart brother.
# If ?parent is ?child's parent, then ?child is ?parent's child
Relationship ?parent ?child child: [Relationship ?child ?parent parent]

CharacterColor homer red.
CharacterColor marge green.
CharacterColor ? blue.  # everybody else is blue.
</code></pre>
<p>Then we get:</p>
<pre class="mermaid">graph TD
n0("bart") -- parent --> n1("homer")
n0 -- parent --> n2("marge")
n3("lisa") -- parent --> n2
n1 -- wife --> n2
n2 -- husband --> n1
n0 -- sister --> n3
n3 -- brother --> n0
n1 -- child --> n0
n2 -- child --> n0
n2 -- child --> n3
style n0 fill: blue;
style n1 fill: red;
style n2 fill: green;
style n3 fill: blue;
</pre>
<p>Basically, when it wants to render a node, it calls <code>?colorTask</code>, passing it the node as its first parameter, and then reads back the color as the value of the second parameter.  The colors should be color strings that the web understands like &ldquo;red&rdquo;, &ldquo;blue&rdquo;, etc.</p>
<h3 id="other-options">Other options</h3>
<p><code>VisualizeGraph</code> accepts other keyword arguments:</p>
<ul>
<li><code>roots ?nodePredicate</code><br />
Includes as nodes all the solutions to <code>[?nodePredicate ?node]</code> and any nodes reachable from them via arrows.</li>
<li><code>node_label ?labelTask</code><br />
Like <code>node_color</code> but instead of using the task to get the color of the node, it uses it to get the text to display in the node.</li>
<li><code>directed ?boolean</code>
If true, edges are drawn as arrows.  If not, they're drawn as lines.  Default is true.</li>
<li><code>style ?string</code>
Passes <code>?string</code> as the style to the Mermaid graph renderer.  The default is <code>&quot;graph TD&quot;</code>, which means to draw it as a normal graph, running top-to-bottom.  For some graphs, you may prefer <code>&quot;graph LR</code>&quot;, which runs left-to-right.</li>
<li><code>color_components ?boolean</code><br />
If <code>?boolean</code> is true, override the coloring of nodes so that all nodes within a given connected component have the same color.  So if we add Stan Marsh and Randy Marsh to the list of characters:</li>
</ul>
<pre><code class="language-Step"># Try: [VisualizeGraph Relationship color_components true]
[predicate]
Relationship bart homer parent.
Reltionship lisa home parent.
Relationship bart marge parent.
Relationship lisa marge parent.
Relationship homer marge wife.
Relationship marge homer husband.
Relationship bart lisa sister.
Relationship lisa bart brother.

Relationship stan randy parent.

# If ?parent is ?child's parent, then ?child is ?parent's child
Relationship ?parent ?child child: [Relationship ?child ?parent parent]
</code></pre>
<p>Then the Marsh family will appear in one color and the Simpsons in another:</p>
<pre class="mermaid">graph TD
n0("bart") -- parent --> n1("homer")
n0 -- parent --> n2("marge")
n3("lisa") -- parent --> n2
n1 -- wife --> n2
n2 -- husband --> n1
n0 -- sister --> n3
n3 -- brother --> n0
n4("stan") -- parent --> n5("randy")
n1 -- child --> n0
n2 -- child --> n0
n2 -- child --> n3
n5 -- child --> n4
style n0 fill:#0000FF;
style n1 fill:#0000FF;
style n2 fill:#0000FF;
style n3 fill:#0000FF;
style n4 fill:#FF0000;
style n5 fill:#FF0000;
</pre>




			</div>

		</div>

		<div class="col-md-3">

<div class="container-fluid sidebar">
			<h5>Primitive tasks (technical)
</h5>
			<ol start="1">
					<li class="sidebar"><a class="backgroundlink" href="Type_predicates.html" id="section_page_1"> Type testing
 </a> <br></li>
					<li class="sidebar"><a class="simplelink" href="Output_primitives.html" id="section_page_2"> <b> Output
 </b> </a> <br></li>
					<li class="sidebar"><a class="backgroundlink" href="Comparisons.html" id="section_page_3"> Comparisons
 </a> <br></li>
					<li class="sidebar"><a class="backgroundlink" href="Structured_data_primitives.html" id="section_page_4"> List and feature structure predicates
 </a> <br></li>
					<li class="sidebar"><a class="backgroundlink" href="Testing_binding_status.html" id="section_page_5"> Testing binding status
 </a> <br></li>
					<li class="sidebar"><a class="backgroundlink" href="Randomization_primitives.html" id="section_page_6"> Randomization primitives
 </a> <br></li>
					<li class="sidebar"><a class="backgroundlink" href="Writing_primitives.html" id="section_page_7"> Advanced: writing your own primitives
 </a> <br></li>
			</ol>
	<script>
		document.addEventListener('keyup', function(e) {
			if (e.key >= '1' && e.key <= '9') document.getElementById('section_page_'+e.key).click()
		}, false);
	</script>
	</p>
	<br>
	<h5>Navigation</h5>
	<p style="text-align: left;">
	<table style="border: none;">
			<tr style="border: none;">
				<td style="border: none; vertical-align: top;"> <b>Next:</b> </td>
				<td style="border: none;"> 
					<a title="Click or press &#8594;" class="simplelink" id="NextPage" href="Comparisons.html">Comparisons
</a><br>
				</td>
			</tr>
			<script>
				document.addEventListener('keyup', function(e) {
					if (e.getModifierState("Meta") || e.getModifierState("Control")) return
					if (e.key == 'ArrowRight' || e.key == "Return")
					  document.getElementById('NextPage').click()
				}, false);
			</script>
			<tr style="border: none;">
				<td style="border: none; vertical-align: top;"> <b>Previous:</b> </td>
				<td style="border: none;"> 
					<a title="Click or press &#8592;" class="simplelink" id="PreviousPage" href="Type_predicates.html">Type testing
</a><br>
				</td>
			</tr>
			<script>
				document.addEventListener('keyup', function(e) {
					if (e.getModifierState("Meta")) return
					if (e.key == 'ArrowLeft') 
						document.getElementById('PreviousPage').click()
				}, false);
			</script>
			<tr style="border: none;">
				<td style="border: none; vertical-align: top;"> <b>Up:</b> </td>
				<td style="border: none;"> 
					<a title="Click or press &#8593;" class="simplelink" id="UpPage" href="Primitive_tasks.html">Primitive tasks (technical)
</a><br>
				</td>
			</tr>
			<script>
				document.addEventListener('keyup', function(e) {
					if (e.getModifierState("Meta")) return
					if (e.key == 'ArrowUp') document.getElementById(e.getModifierState("Control")?'linkToIndex':'UpPage').click()
				}, false);
			</script>
			<tr style="border: none;">
				<td style="border: none; vertical-align: top;"><b>Next &sect;:</b></td>
				<td style="border: none;"> 
					<a title="Click or press Control-&#8594;" class="simplelink" id="NextSectionPage" href="Higher-order_tasks.html">Higher-order tasks
</a><br>
				</td>
			</tr>
			<script>
				document.addEventListener('keyup', function(e) {
					if (e.getModifierState("Meta")) return
					if (e.key == 'ArrowRight'  && e.getModifierState("Control")) document.getElementById('NextSectionPage').click()
				}, false);
			</script>
			<tr style="border: none;">
				<td style="border: none; vertical-align: top;"><b>Prev &sect;:</b></td>
				<td style="border: none;"> 
					<a title="Click or press Control-&#8592;" class="simplelink" id="PreviousSectionPage" href="Structured_data.html">Structured data
</a><br>
				</td>
			</tr>
			<script>
				document.addEventListener('keyup', function(e) {
					if (e.getModifierState("Meta")) return
					if (e.key == 'ArrowLeft'  && e.getModifierState("Control")) document.getElementById('PreviousSectionPage').click()
				}, false);
			</script>
	</table>
	</p>
	<div style="color: grey; padding-top: .5rem;">
		<a style="color: grey;" href="mailto:ian@northwestern.edu?subject=Comment on DPGD/Output_primitives.html">Send feedback on this page</a>
	</div>
</div>

		</div>
	</div>
</div>



<div class="container-fluid footer">
	<div class="container">
		<div class="row">
			<div class="col-10 col-lg-8 footer-contents">
				<div class="text-muted">
					<h4><a class="simplelink" href="index.html">Declarative Programming for Game Designers</a></h4>

					Copyright &copy; 2025 Ian Horswill
				</div>
				<div class="text-muted">
					<a href="https://github.com/rzubek/mies">Made by Booker, based on Rob Zubek's Mies (Crown Theme)</a>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	document.querySelectorAll('.language-step').forEach(e => {e.title = 'Click here to try the code'; });
</script>

<!-- this is required for bootstrap -->

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

</body>
</html>



