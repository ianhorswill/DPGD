
<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- generic metadata -->
	<title>Describing states&#xA;</title>
	<meta name="author" content="Ian Horswill">
	<meta name="description" content="An introduction to declarative programming with applications to vidoegames">
	<meta name="generator" content="Booker">

	<!-- seo helpers: generic, twitter, facebook/opengraph -->
	<meta itemprop="name" content="Describing states&#xA;">
	<meta name="twitter:title" content="Describing states&#xA;">
	<meta property="og:title" content="Describing states&#xA;" />
	<meta property="og:type" content="article" />
	<meta property="og:site_name" content="Declarative Programming for Game Designers" />
	
	<!-- stylesheets -->
	<!-- bootstrap needs to come first -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

	<!-- then our style sheet -->
	<link rel="stylesheet" href="site.css"> 

	<!-- sample fonts, please feel free to replace with your preferred ones -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat|Public+Sans:400,700&display=swap&subset=latin-ext"> 

	<!-- highlightjs is used for source code formatting inside <code> tags. feel free to remove it. -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/styles/atom-one-dark.min.css">
	<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11/build/highlight.min.js"></script>
	<script src="step.js"></script>
	<script src="NDScript.js"></script>
	<script>hljs.highlightAll();</script>
	
	<!-- use MathJax for latex rendering -->
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

	<!-- Use mermaid to render diagrams -->
	<script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ startOnLoad: true, theme: 'dark' });
    </script>
</head>

<body>
<div class="container-fluid shadow header">
	<div class="container">
		<div class="col-md-7 header-contents">
				<a class="backgroundlink" href="Part_I.html"> Part I
 </a>
&nbsp;&#x25BB;&nbsp;				<a class="backgroundlink" href="Action_and_planning.html"> Action and planning
 </a>
&nbsp;&#x25BB;&nbsp;				<a class="backgroundlink" href="Describing_action_problems.html"> Describing action problems
 </a>
			<h1><a id="linkToIndex" class="simplelink" href="index.html"> Describing states
</a></h1>
					<p>
					<span style="padding:.25rem; padding-left:.5rem; padding-right:.5rem; background-color:orange; color:black;">
					   alpha test
					</span>
					</p>
		</div>
	</div>
</div>

	<!-- Make clicking On Step code pop up a step interpreter and copy the code into the clipboard -->
	<script>
	document.querySelector("body").addEventListener('click', function(e) {
		var element = e.target.closest('code');
		if(element !== null) {
			if (element.classList.contains('language-Step')) {
				var interp = window.open("https://ianhorswill.github.io/StepSandbox", "Step sandbox");
				var handler = function(e) { 
					interp.postMessage(element.textContent, "*");
					window.removeEventListener('message', handler);
				};
				window.addEventListener('message', handler);
			} else if (element.classList.contains('language-NDScript')) {
				var interp = window.open("https://ianhorswill.github.io/NDScriptSandbox", "NDScript sandbox");
				var handler = function(e) { 
					interp.postMessage(element.textContent, "*");
					window.removeEventListener('message', handler);
				};
				window.addEventListener('message', handler);
			}
		}
	}, false);
	</script>



<div class="container-fluid">
	<div class="row justify-content-center">
		<div class="col-md-7 index-contents">
			<div class="container shadow blog-contents">

<p>Actions change the world; that's their point.  Before the action, the world is in one <strong>state</strong>, and afterward it's in another.  For our purposes, the world is the game world, and so the state is the game's state, sometimes called a &ldquo;gamestate&rdquo;.  The game is always in some particular state.  The set of all possible gamestates is called the game's <strong>state space</strong>. </p>
<p>That said, an action-selection system generally works with a simplification of the actual gamestate, one in which information irrelevant to selecting actions has been removed.  For example, an enemy doesn't need to know the game's graphics settings to choose a target.  And whereas the game might track a character's position in terms of XYZ coordinates, the action selection system might only pay attention to what room they're in.</p>
<h2 id="state-variables">State variables</h2>
<p>While it is sometimes useful to talk about the state as a whole, such as when we talk about the before- and after-states of an action, we usually think of states as being composed of several different parts that can change independently.  These are known as <em>state variables</em>.  For example, the location of each character might be a state variable, as might each character's health, inventory, etc.  Each of these has its own set of possible values. And you can generally change the value of one state variable without changing the others.</p>
<p>A full state is determined by the values of each state variable.</p>
<p>Breaking the state up into components makes it easier to represent and reason about actions.  Actions generally affect only a few state variables, not all.  For example, eating affects your energy level but not your location.  Driving affects your location but not your energy level.  Running affects both.</p>
<p>To keep things clear, when we refer to the names of state variables, we'll put them in <code>code font</code>.  So when we want to refer to a state variable representing a character's health, we'll say <code>health</code>.</p>
<p>Again, the action selection system uses a simplified idealization of the true state of the game.  So the state variables we discuss here may not correspond to actual variables in the C++ or C# code of the game.  What matters is that the state variables are useful for choosing actions and that the action selection system is able to ask the game engine for its current value.</p>
<h2 id="partial-states">Partial states</h2>
<p>There will be many cases where we'll only want to talk about the values of a few state variables and ignore the others.  For example, in <em>The Sims</em>, the state of a character is their location together with set of their need states (hunger, energy, fun, etc.), all of which are numbers, together and a few miscellaneous state variables such as what they're holding etc.  The &ldquo;state&rdquo; of being in the living room isn't a state in the sense described above; it simply means that whatever state you are in, a particular state variable, <code>location</code>, has a particular value, <code>living_room</code>.  So we can write something like:</p>
<pre><code class="language-text">location = living_room
</code></pre>
<p>when we want to specify part of a state without specifying it completely.</p>
<p>Many planning systems manipulate partial state specifications in which only the state variables relevant to the problem at hand are given values.</p>
<h2 id="formal-modeling-esoteric">Formal modeling (esoteric)</h2>
<p>We can model states formally (i.e. mathematically).  If you're a Ph.D. student, reading this as part of a university course, or want to be able to read the research literature, then it's worth reading this section.  Otherwise, it's safe to ignore it.</p>
<p>To begin with, let's call the state space, the set of all possible gamestates, <span class="math">\(S\)</span>. </p>
<h3 id="actions">Actions</h3>
<p>An action, <span class="math">\(a\)</span> takes you from one state to another.  And for any given before state, it reliably takes you to some specific after state.  So it behaves like a function from <span class="math">\(S\)</span> to <span class="math">\(S\)</span>:</p>
<div class="math">
\[
a: S\rightarrow  S
\]</div>
<p>If we start in some state <span class="math">\(s\)</span> and execute action <span class="math">\(a\)</span>, we end up in state <span class="math">\(a(s)\)</span>.  If we execute a series of actions <span class="math">\(a_1, a_2, ..., a_n\)</span>, we went up in state</p>
<div class="math">
\[
a_n(a_{n-1}(...a_2(a_1(s))))
\]</div>
<p>If we want to treat actions as being unreliable, then things are more complicated. We might, for example, model them as mappings from states to probability distributions over states.  But for our purposes we can generally focus on deterministic actions.</p>
<h3 id="state-variables-1">State  variables</h3>
<p>If we model states in terms of state variables, then we have a set of state variables <span class="math">\(\boldsymbol{v}_i\)</span>, each of which has some set of possible values, <span class="math">\(V_i\)</span>.  A full world state is then a tuple of values for the state variables, first the value of <span class="math">\(\boldsymbol{v}_1\)</span>, then of <span class="math">\(\boldsymbol{v}_2\)</span>, etc.:</p>
<div class="math">
\[
(s_1, s_2, ..., s_n)\text{ where }s_i \in V_i
\]</div>
<p>The set of all possible states <span class="math">\(S\)</span> is then the set of all such tuples.  This is the <a href="Set_operations.html#cartesian-product">Cartesian product</a> of the possible values for each state variable:</p>
<div class="math">
\[
S = V_1 \times V_2 \times ... \times V_n
\]</div>
<h3 id="propositional-state-spaces">Propositional state spaces</h3>
<p>One representation common in the research literature, but less common in games, it to track the truth or falsity of a set of possible statements (propositions or ground instances of predicates) about the world.  The system then reasons about what sets of statements are known to be true.  The original <a href="https://en.wikipedia.org/wiki/Stanford_Research_Institute_Problem_Solver">STRIPS</a> planner and many <a href="https://en.wikipedia.org/wiki/Planning_Domain_Definition_Language">PDDL</a> planners work with this kind of representation.</p>
<p>In a sense, these systems treat each proposition as a state variable with the possible values of <em>true</em> and <em>false</em>.  A state can be thought of as an assignment of truth values to each proposition.</p>
<p>Systems that use propositional state spaces often use partial representations of those states.  Instead of representing complete states (the truth values of all possible propositions), they represent only the set of propositions known to be true in whatever state they're considering.  Propositions not in the set aren't known to be false, they just aren't known (or are irrelevant).</p>


<table style="border: none; width: 100%; table-layout: fixed; margin-top: 2rem;">
<tbody>
<tr style="border: none;">
				<td style="border: none; vertical-align: top; "> 
                    <b>Previous:</b> 
					<a title="Click or press &#8592;" class="simplelink" id="PreviousPage" href="Describing_time.html">Describing time and change
</a><br>
				</td>
				<td style="border: none; vertical-align: top; text-align: right;"> 
                    <b>Next:</b>  
					<a title="Click or press &#8594;" class="simplelink" id="NextPage" href="Describing_actions.html">Describing actions
</a><br>
				</td>			
</tr>
</tbody>
</table>
			</div>
		</div>

		<div class="col-md-3">

<div class="container-fluid sidebar">
		<h3 style="text-align: right;">Incomplete draft:<br>do not cite!</h3>
				<p style="color: grey; padding-bottom: 0rem; margin-bottom: 0rem;">Section 1.2.1.2</p>
			<h5>Describing action problems
</h5>
			<ol start="1">
					<li class="sidebar"><a class="backgroundlink" href="Describing_time.html" id="section_page_1"> Describing time and change
 </a> <br></li>
					<li class="sidebar"><a class="simplelink" href="Describing_states.html" id="section_page_2"> <b> Describing states
 </b> </a> <br></li>
					<li class="sidebar"><a class="backgroundlink" href="Describing_actions.html" id="section_page_3"> Describing actions
 </a> <br></li>
					<li class="sidebar"><a class="backgroundlink" href="Describing_objectives.html" id="section_page_4"> Describing objectives
 </a> <br></li>
			</ol>
	<script>
		document.addEventListener('keyup', function(e) {
			if (e.key >= '1' && e.key <= '9') document.getElementById('section_page_'+e.key).click()
		}, false);
	</script>
	</p>
	<br>
	<h5>Navigation</h5>
	<p style="text-align: left;">
	<table style="border: none;">
			<tr style="border: none;">
				<td style="border: none; vertical-align: top;"> <b>Next:</b> </td>
				<td style="border: none;"> 
					<a title="Click or press &#8594;" class="simplelink" id="NextPage" href="Describing_actions.html">Describing actions
</a><br>
				</td>
			</tr>
			<script>
				document.addEventListener('keyup', function(e) {
					if (e.getModifierState("Meta") || e.getModifierState("Control")) return
					if (e.key == 'ArrowRight' || e.key == "Return")
					  document.getElementById('NextPage').click()
				}, false);
			</script>
			<tr style="border: none;">
				<td style="border: none; vertical-align: top;"> <b>Previous:</b> </td>
				<td style="border: none;"> 
					<a title="Click or press &#8592;" class="simplelink" id="PreviousPage" href="Describing_time.html">Describing time and change
</a><br>
				</td>
			</tr>
			<script>
				document.addEventListener('keyup', function(e) {
					if (e.getModifierState("Meta")) return
					if (e.key == 'ArrowLeft') 
						document.getElementById('PreviousPage').click()
				}, false);
			</script>
			<tr style="border: none;">
				<td style="border: none; vertical-align: top;"> <b>Up:</b> </td>
				<td style="border: none;"> 
					<a title="Click or press &#8593;" class="simplelink" id="UpPage" href="Describing_action_problems.html">Describing action problems
</a><br>
				</td>
			</tr>
			<script>
				document.addEventListener('keyup', function(e) {
					if (e.getModifierState("Meta")) return
					if (e.key == 'ArrowUp') document.getElementById(e.getModifierState("Control")?'linkToIndex':'UpPage').click()
				}, false);
			</script>
			<tr style="border: none;">
				<td style="border: none; vertical-align: top;"><b>Next &sect;:</b></td>
				<td style="border: none;"> 
					<a title="Click or press Control-&#8594;" class="simplelink" id="NextSectionPage" href="Action_selection_techniques.html">Action-selection techniques
</a><br>
				</td>
			</tr>
			<script>
				document.addEventListener('keyup', function(e) {
					if (e.getModifierState("Meta")) return
					if (e.key == 'ArrowRight'  && e.getModifierState("Control")) document.getElementById('NextSectionPage').click()
				}, false);
			</script>
	</table>
	</p>
	<div style="color: grey; padding-top: .5rem;">
		<a style="color: grey;" href="mailto:ian@northwestern.edu?subject=Comment on DPGD/Describing_states.html">Send feedback on this page</a>
	</div>
</div>

		</div>
	</div>
</div>



<div class="container-fluid footer">
	<div class="container">
		<div class="row">
			<div class="col-10 col-lg-8 footer-contents">
				<div class="text-muted">
					<h4><a class="simplelink" href="index.html">Declarative Programming for Game Designers</a></h4>

					Copyright &copy; 2026 Ian Horswill
				</div>
				<div class="text-muted">
					<a href="https://github.com/rzubek/mies">Made by Booker, based on Rob Zubek's Mies (Crown Theme)</a>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	document.querySelectorAll('.language-step').forEach(e => {e.title = 'Click here to try the code'; });
</script>

<!-- this is required for bootstrap -->

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

</body>
</html>
